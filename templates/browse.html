<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Browse Products - UniCache</title>
  <link rel="icon" type="image/webp" href="{{ url_for('static', filename='images/app-icon.png') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/browse.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <!-- Simple Custom Navbar -->
  <nav
    style="width:100%; background: linear-gradient(to right, #0f172a, #4d6a92); color:white; padding: 1rem 0; display:flex; align-items:center; justify-content:space-between; font-family:sans-serif; position:sticky; top:0; z-index:100;">
    <!-- Logo and Title -->
    <div style="display: flex; align-items: center; margin-left: 90px;">
      <img src="/static/images/image.png" alt="UniCache Logo" style="width: 42px; height: 42px; border-radius: 50%; margin-right: 0.8rem;">
      <div style="font-weight:bold; font-size:1.5rem;">UniCache</div>
    </div>

    <!-- Centered Navigation Links -->
    <div style="display: flex; align-items: center; justify-content: center; flex: 1;">
      <div style="display: flex; align-items: center; gap: 1.2rem;">
        <a href="/home"
          style="color:#f7d08a; text-decoration:none; font-size:1.2rem; transition:all 0.3s;">Home</a>
        <a href="/sell"
          style="color:#f7d08a; text-decoration:none; font-size:1.2rem; transition:all 0.3s;">Sell</a>
        <a href="/browse"
          style="color:#f7d08a; text-decoration:none; font-size:1.2rem; transition:all 0.3s;">Browse</a>
        <a href=""
          style="color:#f7d08a; text-decoration:none; font-size:1.2rem; transition:all 0.3s;">Notes</a>
        <a href="/home#about"
          style="color:#f7d08a; text-decoration:none; font-size:1.2rem; transition:all 0.3s;">About</a>
        <a href="/home#contact"
          style="color:#f7d08a; text-decoration:none; font-size:1.2rem; transition:all 0.3s;">Contact</a>
      </div>
    </div>

    <!-- User Profile -->
    <div style="margin-right: 90px;">
      <a href="/profile"
        style="display: flex; align-items: center; justify-content: center; width: 2.5rem; height: 2.5rem; border-radius: 50%; border: 2.5px solid #f7d08a; color: #f7d08a; background: rgba(255,255,255,0.04); transition: all 0.3s;">
        <i class="fas fa-user" style="font-size: 1.3rem;"></i>
      </a>
    </div>
  </nav>

  <section class="top">
    <h1>Browse Item</h1>
    <div class="scroll-indicator">
      <div class="mouse">
        <div class="wheel"></div>
      </div>
      <div class="scroll-text">Scroll down</div>
    </div>
  </section>

  <section class="main">
    <div class="container" style="width: 100%; max-width: 100%; padding: 0; margin: 0;">
      <div class="text-overlay">
        <div class="text-wrapper" style="display: flex; flex-direction: column; align-items: flex-start;">
          <h2 class="filled-text" id="passItOn" style="margin: 0;">— pass it on.</h2>
          <h2 class="outline-text" id="passItOnOutline" style="margin: 0; margin-top: -10px;">— pass it on.</h2>
        </div>
      </div>
      <img class="image" style="width: 100%; height: auto; object-fit: cover;"
        src="https://habitatbroward.org/wp-content/uploads/2021/09/Top-8-Benefits-of-Community-Service-for-Students.jpg">
    </div>
  </section>

  <section class="footer">
    <h1 class="reupyog-glow" style="color: #f7d08a;">ReUpyog These Equipments</h1>
    <div class="featured-products-section">
      <h2 class="featured-title">Featured Products</h2>
      <div class="featured-products-grid">
        {% for item in items %}
          <div class="featured-card">
            <img src="{{ item.product.image }}" alt="{{ item.product.title }}">
            <div class="featured-info">
              <div class="featured-name">
                {{ item.product.title }}
              </div>
              <div class="featured-rating">★★★★★</div>
              <div class="featured-prices">₹{{ item.product.price }}
              </div>
              <div class="featured-seller">Seller: {{ item.seller.full_name }}
              </div>
              <div class="featured-age">Months Old: {{ item.product.monthsold }}
              </div>
              <button class="btn">ADD TO CART</button>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-col">
          <div class="footer-logo">
            <i class="fas fa-shopping-bag"></i>
            <span>UniCache</span>
          </div>
          <p>The marketplace for college students to buy and sell course-related supplies.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
          </div>
        </div>

        <div class="footer-col">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="/home">Home</a></li>
            <li><a href="/browse">Browse Items</a></li>
            <li><a href="/sell">Sell an Item</a></li>
            <li><a href="#how-it-works">How It Works</a></li>
            <li><a href="/profile">My Profile</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h3>Information</h3>
          <ul>
            <li><a href="/home/#about">About Us</a></li>
            <li><a href="/home/#contact">Contact Us</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">FAQ</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h3>Newsletter</h3>
          <p>Subscribe to our newsletter for exclusive deals and tips.</p>
          <form class="newsletter-form">
            <input type="email" placeholder="Your email">
            <button type="submit">
              <i class="fas fa-envelope"></i>
            </button>
          </form>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; <span id="current-year"></span> UniCache. All rights reserved.</p>
      </div>
    </div>
  </footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js"></script>

  <script type="text/javascript">

    gsap.to(".filled-text, .outline-text", {
      scrollTrigger: {
        trigger: ".filled-text, .outline-text",
        start: "top bottom",
        end: "bottom top",
        scrub: 1
      },
      x: 200
    })

    gsap.to(".image", {
      scrollTrigger: {
        trigger: ".image",
        start: "top bottom",
        end: "bottom top",
        scrub: 1
      },
      x: -250,
    })
  </script>
</body>
<script type="module">
  import { gsap } from "https://cdn.jsdelivr.net/npm/gsap@3.12.5/index.js";
  import { ScrollTrigger } from "https://cdn.jsdelivr.net/npm/gsap@3.12.5/ScrollTrigger.js";
  import { ScrollSmoother } from "https://cdn.jsdelivr.net/npm/gsap@3.12.5/ScrollSmoother.js";
  import { SplitText } from "https://cdn.jsdelivr.net/npm/gsap@3.12.5/SplitText.js";

  // Make plugins available globally if needed
  gsap.registerPlugin(ScrollTrigger, ScrollSmoother, SplitText);
</script>

<script type="module" src="{{ url_for('static', filename='javascripts/browse.js') }}"></script>
<script>
  document.querySelector('.scroll-icon').addEventListener('click', function () {
    document.querySelector('.main').scrollIntoView({
      behavior: 'smooth'
    });
  });
</script>
<script>
  document.querySelector('.scroll-indicator').addEventListener('click', function () {
    document.querySelector('.main').scrollIntoView({
      behavior: 'smooth'
    });
  });
</script>
<script>
  // GSAP fade-in animation for product cards
  if (window.gsap) {
    gsap.utils.toArray('.featured-card').forEach((card, i) => {
      gsap.from(card, {
        opacity: 0,
        y: 40,
        duration: 0.8,
        delay: 0.2 + i * 0.15,
        scrollTrigger: {
          trigger: card,
          start: 'top 90%',
          toggleActions: 'play none none reverse'
        }
      });
    });
  }
</script>

</html>